# name: remote ssh command
# on: [push]
# jobs:

#   build:
#     name: Build
#     runs-on: ubuntu-latest
#     steps:
#     - name: executing remote ssh commands using password
#       uses: appleboy/ssh-action@master
#       with:
#         host: 112.137.129.122
#         username: hangd
#         password: hang1234duong
#         port: 22033$
#         script: whoami

name: Training model
on:
  push:
    branches: [baseline]
jobs:
  Training-flow: 
    name: training model
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        id: checkout
        uses: actions/checkout@v2
        with: 
          ref: baseline

      # - name: Checkout
      #   id: checkout
      #   uses: actions/checkout@v2

      - name: Environment setup
        uses: actions/setup-python@v2
        with:
          python-version: 3.8
          cache: pip
      
      - name: Install packages
        run: pip install -r requirements.txt

      # - name: Pull data
      #   run: |
      #     dvc remote modify origin --local auth basic
      #     dvc remote modify origin --local user ${{ secrets.DAGSHUB_USERNAME }}
      #     dvc remote modify origin --local password ${{ secrets.DAGSHUB_TOKEN }}
      #     dvc pull -r origin train_model

      # - run: |
      #     pip install -r ${{ github.workspace }}/requirement.txt